<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yiguo.dao.ResumeMapper" >
  <resultMap id="BaseResultMap" type="com.yiguo.bean.Resume" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="user_id" property="userId" jdbcType="INTEGER" />
    <result column="user_name" property="userName" jdbcType="VARCHAR" />
    <result column="sex" property="sex" jdbcType="TINYINT" />
    <result column="telephone" property="telephone" jdbcType="INTEGER" />
    <result column="native_place" property="nativePlace" jdbcType="VARCHAR" />
    <result column="person_photo" property="personPhoto" jdbcType="VARCHAR" />
    <result column="communication_address" property="communicationAddress" jdbcType="VARCHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="graduated_school" property="graduatedSchool" jdbcType="VARCHAR" />
    <result column="profession" property="profession" jdbcType="VARCHAR" />
    <result column="education" property="education" jdbcType="VARCHAR" />
    <result column="major_course" property="majorCourse" jdbcType="VARCHAR" />
    <result column="score_rank" property="scoreRank" jdbcType="TINYINT" />
    <result column="professinal_skill" property="professinalSkill" jdbcType="VARCHAR" />
    <result column="reward" property="reward" jdbcType="VARCHAR" />
    <result column="self_evaluation" property="selfEvaluation" jdbcType="VARCHAR" />
      <result column="resume_link" property="resumeLink" jdbcType="VARCHAR" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
  </resultMap>
  <!-- sql语句，调用now函数 -->
   <sql id="insert">
  insert into resume (id, user_id, user_name, 
      sex, telephone, native_place, 
      person_photo, communication_address, email, 
      graduated_school, profession, education, 
      major_course, score_rank, professinal_skill, 
      reward, self_evaluation, create_time, 
      update_time,resume_Link)
    values (#{id,jdbcType=INTEGER}, #{userId,jdbcType=INTEGER}, #{userName,jdbcType=VARCHAR}, 
      #{sex,jdbcType=TINYINT}, #{telephone,jdbcType=INTEGER}, #{nativePlace,jdbcType=VARCHAR}, 
      #{personPhoto,jdbcType=VARCHAR}, #{communicationAddress,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR}, 
      #{graduatedSchool,jdbcType=VARCHAR}, #{profession,jdbcType=VARCHAR}, #{education,jdbcType=VARCHAR}, 
      #{majorCourse,jdbcType=VARCHAR}, #{scoreRank,jdbcType=TINYINT}, #{professinalSkill,jdbcType=VARCHAR}, 
      #{reward,jdbcType=VARCHAR}, #{selfEvaluation,jdbcType=VARCHAR},now(),now(),#{resumeLink,jdbcType=VARCHAR})

</sql> 
<!-- 查询数据 -->
  <select id="query" parameterType="com.yiguo.bean.Resume" resultMap="BaseResultMap">
    select *
    from resume
      WHERE 1=1
       <if test="userId != null" >
      and  user_id = #{userId,jdbcType=INTEGER}
    </if>
   <if test="userName != null" >
      and  user_name = #{userName,jdbcType=VARCHAR}
    </if>
       <if test="sex != null" >
      and  sex = #{sex,jdbcType=TINYINT}
    </if>
  <if test="telephone != null" >
      and  telephone = #{telephone,jdbcType=INTEGER}
    </if>
    <if test="nativePlace != null" >
      and  native_place = #{nativePlace,jdbcType=VARCHAR}
    </if>
     <if test="personPhoto != null" >
      and  person_photo = #{personPhoto,jdbcType=VARCHAR}
    </if>
     <if test="communicationAddress != null" >
      and  communication_address = #{communicationAddress,jdbcType=VARCHAR}
    </if>
   <if test="email != null" >
      and  email = #{email,jdbcType=VARCHAR}
    </if>
      <if test="graduatedSchool!= null" >
      and  graduated_school = #{graduatedSchool,jdbcType=VARCHAR}
    </if>
     <if test="profession!= null" >
      and  profession = #{profession,jdbcType=VARCHAR}
    </if>
      <if test="education!= null" >
      and  education = #{education,jdbcType=VARCHAR}
    </if>
   <if test="majorCourse!= null" >
      and  major_course= #{majorCourse,jdbcType=VARCHAR}
    </if>
    <if test="scoreRank!= null" >
      and  score_rank= #{scoreRank,jdbcType=TINYINT}
    </if>
      <if test="professinalSkill!= null" >
      and  professinal_skill= #{professinalSkill,jdbcType=VARCHAR}
    </if>
    <if test="reward!= null" >
      and  reward= #{reward,jdbcType=VARCHAR}
    </if>
  <if test="selfEvaluation!= null" >
      and  self_evaluation= #{selfEvaluation,jdbcType=VARCHAR}
    </if>
      <if test="resumeLink!= null" >
          and  resume_link= #{resumeLink,jdbcType=VARCHAR}
      </if>

  </select>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, user_id, user_name, sex, telephone, native_place, person_photo, communication_address, 
    email, graduated_school, profession, education, major_course, score_rank, professinal_skill, 
    reward, self_evaluation, create_time, update_time,resume_link
  </sql>
  <!-- 主键查询数据 -->
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select*
    from resume
    where id = #{id,jdbcType=INTEGER}
  </select>
   <!-- 删除数据 -->
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from resume
    where id = #{id,jdbcType=INTEGER}
  </delete>
   <!--插入数据，调用sql函数  -->
  <insert id="insert" parameterType="com.yiguo.bean.Resume" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <include refid="insert"/>
  </insert>
  <insert id="insertSelective" parameterType="com.yiguo.bean.Resume" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into resume
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="userId != null" >
        user_id,
      </if>
      <if test="userName != null" >
        user_name,
      </if>
      <if test="sex != null" >
        sex,
      </if>
      <if test="telephone != null" >
        telephone,
      </if>
      <if test="nativePlace != null" >
        native_place,
      </if>
      <if test="personPhoto != null" >
        person_photo,
      </if>
      <if test="communicationAddress != null" >
        communication_address,
      </if>
      <if test="email != null" >
        email,
      </if>
      <if test="graduatedSchool != null" >
        graduated_school,
      </if>
      <if test="profession != null" >
        profession,
      </if>
      <if test="education != null" >
        education,
      </if>
      <if test="majorCourse != null" >
        major_course,
      </if>
      <if test="scoreRank != null" >
        score_rank,
      </if>
      <if test="professinalSkill != null" >
        professinal_skill,
      </if>
      <if test="reward != null" >
        reward,
      </if>
      <if test="selfEvaluation != null" >
        self_evaluation,
      </if>
      <if test="createTime != null" >
        create_time,
      </if>
      <if test="updateTime != null" >
        update_time,
      </if>
        <if test="resumeLink != null" >
            resume_link,
        </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="userId != null" >
        #{userId,jdbcType=INTEGER},
      </if>
      <if test="userName != null" >
        #{userName,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        #{sex,jdbcType=TINYINT},
      </if>
      <if test="telephone != null" >
        #{telephone,jdbcType=INTEGER},
      </if>
      <if test="nativePlace != null" >
        #{nativePlace,jdbcType=VARCHAR},
      </if>
      <if test="personPhoto != null" >
        #{personPhoto,jdbcType=VARCHAR},
      </if>
      <if test="communicationAddress != null" >
        #{communicationAddress,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="graduatedSchool != null" >
        #{graduatedSchool,jdbcType=VARCHAR},
      </if>
      <if test="profession != null" >
        #{profession,jdbcType=VARCHAR},
      </if>
      <if test="education != null" >
        #{education,jdbcType=VARCHAR},
      </if>
      <if test="majorCourse != null" >
        #{majorCourse,jdbcType=VARCHAR},
      </if>
      <if test="scoreRank != null" >
        #{scoreRank,jdbcType=TINYINT},
      </if>
      <if test="professinalSkill != null" >
        #{professinalSkill,jdbcType=VARCHAR},
      </if>
      <if test="reward != null" >
        #{reward,jdbcType=VARCHAR},
      </if>
      <if test="selfEvaluation != null" >
        #{selfEvaluation,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null" >
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="resumeLink!= null" >
         #{resumeLink,jdbcType=VARCHAR},
        </if>

    </trim>
  </insert>
  <!-- 根据主键进行更新，部分更新 -->
  <update id="updateByPrimaryKeySelective" parameterType="com.yiguo.bean.Resume" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update resume
    <set >
      <if test="userId != null" >
        user_id = #{userId,jdbcType=INTEGER},
      </if>
      <if test="userName != null" >
        user_name = #{userName,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        sex = #{sex,jdbcType=TINYINT},
      </if>
      <if test="telephone != null" >
        telephone = #{telephone,jdbcType=INTEGER},
      </if>
      <if test="nativePlace != null" >
        native_place = #{nativePlace,jdbcType=VARCHAR},
      </if>
      <if test="personPhoto != null" >
        person_photo = #{personPhoto,jdbcType=VARCHAR},
      </if>
      <if test="communicationAddress != null" >
        communication_address = #{communicationAddress,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="graduatedSchool != null" >
        graduated_school = #{graduatedSchool,jdbcType=VARCHAR},
      </if>
      <if test="profession != null" >
        profession = #{profession,jdbcType=VARCHAR},
      </if>
      <if test="education != null" >
        education = #{education,jdbcType=VARCHAR},
      </if>
      <if test="majorCourse != null" >
        major_course = #{majorCourse,jdbcType=VARCHAR},
      </if>
      <if test="scoreRank != null" >
        score_rank = #{scoreRank,jdbcType=TINYINT},
      </if>
      <if test="professinalSkill != null" >
        professinal_skill = #{professinalSkill,jdbcType=VARCHAR},
      </if>
      <if test="reward != null" >
        reward = #{reward,jdbcType=VARCHAR},
      </if>
      <if test="selfEvaluation != null" >
        self_evaluation = #{selfEvaluation,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null" >
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
        <if test="resumeLink != null" >
            resume_link = #{resumeLink,jdbcType=VARCHAR},
        </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <!-- 根据主键进行更新，全部更新 -->
  <update id="updateByPrimaryKey" parameterType="com.yiguo.bean.Resume" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update resume
    set user_id = #{userId,jdbcType=INTEGER},
      user_name = #{userName,jdbcType=VARCHAR},
      sex = #{sex,jdbcType=TINYINT},
      telephone = #{telephone,jdbcType=INTEGER},
      native_place = #{nativePlace,jdbcType=VARCHAR},
      person_photo = #{personPhoto,jdbcType=VARCHAR},
      communication_address = #{communicationAddress,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      graduated_school = #{graduatedSchool,jdbcType=VARCHAR},
      profession = #{profession,jdbcType=VARCHAR},
      education = #{education,jdbcType=VARCHAR},
      major_course = #{majorCourse,jdbcType=VARCHAR},
      score_rank = #{scoreRank,jdbcType=TINYINT},
      professinal_skill = #{professinalSkill,jdbcType=VARCHAR},
      reward = #{reward,jdbcType=VARCHAR},
      self_evaluation = #{selfEvaluation,jdbcType=VARCHAR},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      update_time = #{updateTime,jdbcType=TIMESTAMP},
          resume_link = #{resumeLink,jdbcType=VARCHAR},

    where id = #{id,jdbcType=INTEGER}
  </update>
     <!-- 查詢数量 -->
  <select id="selectCount" parameterType="com.yiguo.bean.Resume" resultType="Integer">
    SELECT count(*)
    FROM resume
    WHERE 1=1
   <if test="userId != null" >
      and  user_id = #{userId,jdbcType=INTEGER}
      </if>
      <if test="userName != null" >
       and user_name = #{userName,jdbcType=VARCHAR}
      </if>
      <if test="sex != null" >
       and sex = #{sex,jdbcType=TINYINT}
      </if>
      <if test="telephone != null" >
       and telephone = #{telephone,jdbcType=INTEGER}
      </if>
      <if test="nativePlace != null" >
       and native_place = #{nativePlace,jdbcType=VARCHAR}
      </if>
      <if test="personPhoto != null" >
       and person_photo = #{personPhoto,jdbcType=VARCHAR}
      </if>
      <if test="communicationAddress != null" >
      and  communication_address = #{communicationAddress,jdbcType=VARCHAR}
      </if>
      <if test="email != null" >
      and  email = #{email,jdbcType=VARCHAR}
      </if>
      <if test="graduatedSchool != null" >
       and graduated_school = #{graduatedSchool,jdbcType=VARCHAR}
      </if>
      <if test="profession != null" >
       and profession = #{profession,jdbcType=VARCHAR}
      </if>
      <if test="education != null" >
       and education = #{education,jdbcType=VARCHAR}
      </if>
      <if test="majorCourse != null" >
       and major_course = #{majorCourse,jdbcType=VARCHAR}
      </if>
      <if test="scoreRank != null" >
       and score_rank = #{scoreRank,jdbcType=TINYINT}
      </if>
      <if test="professinalSkill != null" >
        and professinal_skill = #{professinalSkill,jdbcType=VARCHAR}
      </if>
      <if test="reward != null" >
        and reward = #{reward,jdbcType=VARCHAR}
      </if>
      <if test="selfEvaluation != null" >
       and self_evaluation = #{selfEvaluation,jdbcType=VARCHAR}
      </if>
      <if test="createTime != null" >
       and create_time = #{createTime,jdbcType=TIMESTAMP}
      </if>
      <if test="updateTime != null" >
      and  update_time = #{updateTime,jdbcType=TIMESTAMP}
      </if>
      <if test="resumeLink != null" >
        and  resume_link = #{resumeLink,jdbcType=VARCHAR}
      </if>
  </select>
   <!-- 分页查詢 -->
  <select id="select" parameterType="com.yiguo.bean.Resume" resultMap="BaseResultMap">
    SELECT *
    FROM resume
    WHERE 1=1
      <if test="userId != null" >
          and  user_id = #{userId,jdbcType=INTEGER}
      </if>
      <if test="userName != null" >
          and user_name = #{userName,jdbcType=VARCHAR}
      </if>
      <if test="sex != null" >
          and sex = #{sex,jdbcType=TINYINT}
      </if>
      <if test="telephone != null" >
          and telephone = #{telephone,jdbcType=INTEGER}
      </if>
      <if test="nativePlace != null" >
          and native_place = #{nativePlace,jdbcType=VARCHAR}
      </if>
      <if test="personPhoto != null" >
          and person_photo = #{personPhoto,jdbcType=VARCHAR}
      </if>
      <if test="communicationAddress != null" >
          and  communication_address = #{communicationAddress,jdbcType=VARCHAR}
      </if>
      <if test="email != null" >
          and  email = #{email,jdbcType=VARCHAR}
      </if>
      <if test="graduatedSchool != null" >
          and graduated_school = #{graduatedSchool,jdbcType=VARCHAR}
      </if>
      <if test="profession != null" >
          and profession = #{profession,jdbcType=VARCHAR}
      </if>
      <if test="education != null" >
          and education = #{education,jdbcType=VARCHAR}
      </if>
      <if test="majorCourse != null" >
          and major_course = #{majorCourse,jdbcType=VARCHAR}
      </if>
      <if test="scoreRank != null" >
          and score_rank = #{scoreRank,jdbcType=TINYINT}
      </if>
      <if test="professinalSkill != null" >
          and professinal_skill = #{professinalSkill,jdbcType=VARCHAR}
      </if>
      <if test="reward != null" >
          and reward = #{reward,jdbcType=VARCHAR}
      </if>
      <if test="selfEvaluation != null" >
          and self_evaluation = #{selfEvaluation,jdbcType=VARCHAR}
      </if>
      <if test="createTime != null" >
          and create_time = #{createTime,jdbcType=TIMESTAMP}
      </if>
      <if test="updateTime != null" >
          and  update_time = #{updateTime,jdbcType=TIMESTAMP}
      </if>
      <if test="resumeLink != null" >
       and   resume_link = #{resumeLink,jdbcType=VARCHAR}
      </if>
      <if test="start != null and pageSize!=null">
      limit #{start},#{pageSize}
    </if>
  </select>

    <select id="findById" parameterType="com.yiguo.bean.Resume" resultType="Integer">
        SELECT count(*)
        FROM resume
        WHERE
        id  = #{id,jdbcType=INTEGER}
    </select>
    <select id="selectByUserId" parameterType="com.yiguo.bean.Resume" resultType="String">
        SELECT resume_link
        FROM resume
        WHERE 1=1
        <if test="userId != null" >
            and  user_id = #{userId,jdbcType=INTEGER}
        </if>
        <if test="userName != null" >
            and user_name = #{userName,jdbcType=VARCHAR}
        </if>
        <if test="sex != null" >
            and sex = #{sex,jdbcType=TINYINT}
        </if>
        <if test="telephone != null" >
            and telephone = #{telephone,jdbcType=INTEGER}
        </if>
        <if test="nativePlace != null" >
            and native_place = #{nativePlace,jdbcType=VARCHAR}
        </if>
        <if test="personPhoto != null" >
            and person_photo = #{personPhoto,jdbcType=VARCHAR}
        </if>
        <if test="communicationAddress != null" >
            and  communication_address = #{communicationAddress,jdbcType=VARCHAR}
        </if>
        <if test="email != null" >
            and  email = #{email,jdbcType=VARCHAR}
        </if>
        <if test="graduatedSchool != null" >
            and graduated_school = #{graduatedSchool,jdbcType=VARCHAR}
        </if>
        <if test="profession != null" >
            and profession = #{profession,jdbcType=VARCHAR}
        </if>
        <if test="education != null" >
            and education = #{education,jdbcType=VARCHAR}
        </if>
        <if test="majorCourse != null" >
            and major_course = #{majorCourse,jdbcType=VARCHAR}
        </if>
        <if test="scoreRank != null" >
            and score_rank = #{scoreRank,jdbcType=TINYINT}
        </if>
        <if test="professinalSkill != null" >
            and professinal_skill = #{professinalSkill,jdbcType=VARCHAR}
        </if>
        <if test="reward != null" >
            and reward = #{reward,jdbcType=VARCHAR}
        </if>
        <if test="selfEvaluation != null" >
            and self_evaluation = #{selfEvaluation,jdbcType=VARCHAR}
        </if>
        <if test="createTime != null" >
            and create_time = #{createTime,jdbcType=TIMESTAMP}
        </if>
        <if test="updateTime != null" >
            and  update_time = #{updateTime,jdbcType=TIMESTAMP}
        </if>
        <if test="resumeLink != null" >
            and   resume_link = #{resumeLink,jdbcType=VARCHAR}
        </if>
        <if test="start != null and pageSize!=null">
            limit #{start},#{pageSize}
        </if>
    </select>

</mapper>